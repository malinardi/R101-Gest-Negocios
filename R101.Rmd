---
title: "IPAM Mestrado Gest√£o de Neg√≥cios"
subtitle: "R 101 - Introdu√ß√£o a Linguagem R"
author: "linkedin.com/in/marcelolinardi/"
date: "2025-03-11"
output:
  html_document: 
    toc: true
    df_print: kable
    toc_depth: 2
  html_notebook: 
    toc: true
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

------------------------------------------------------------------------

*Este ficheiro foi escrito utilizando R Markdown. Uma maneira simples de formatar c√≥digos R para cria√ß√£o de documentos HTML, PDF, Word e PowerPoint.*

*Quando clica no bot√£o Knit, √© gerado um documento que inclui tanto o conte√∫do como a sa√≠da de quaisquer partes de c√≥digo R incorporadas no documento. Pode incorporar um peda√ßo de c√≥digo R da seguinte forma:*

*Para mais detalhes consulte <http://rmarkdown.rstudio.com>.*

------------------------------------------------------------------------

## 1. Introdu√ß√£o.

### Por que R em Gest√£o de Neg√≥cios?

#### üéØ O R √© uma das linguagens mais poderosas para an√°lise de dados, estat√≠stica e visualiza√ß√£o, sendo amplamente utilizado no mundo acad√©mico e corporativo. Mas, afinal, por que um gestor de neg√≥cios deveria aprender R?

**1Ô∏è‚É£ Decis√µes baseadas em dados (Data-Driven Decision Making).**

O mundo dos neg√≥cios est√° cada vez mais orientado por dados. O R permite:

‚úÖ Analisar grandes volumes de dados e identificar padr√µes.\
‚úÖ Criar relat√≥rios automatizados para suportar decis√µes estrat√©gicas.\
‚úÖ Gerar previs√µes de vendas, procura ou tend√™ncias de mercado.

**2Ô∏è‚É£ Alternativa ao Excel ‚Äì Mais poder e flexibilidade**

O R permite fazer tudo o que o Excel faz (e muito mais) com maior precis√£o e efici√™ncia. Embora o Excel seja uma ferramenta essencial, ele tem limita√ß√µes quando se trata de:

‚ùå Trabalhar com grandes quantidades de dados.\
‚ùå Criar modelos estat√≠sticos avan√ßados.\
‚ùå Automatizar processos repetitivos.

**3Ô∏è‚É£ Visualiza√ß√£o de Dados Profissional e Interativa.**

‚úÖ O R possui bibliotecas como ggplot2 que criam gr√°ficos sofisticados e personalizados.

‚úÖ Pode gerar dashboards interativos com Shiny, √∫teis para acompanhamento de KPIs empresariais.

**4Ô∏è‚É£ Machine Learning e Intelig√™ncia Artificial.**

O R √© uma excelente ferramenta para aplicar modelos preditivos e intelig√™ncia artificial em neg√≥cios:

‚úÖ An√°lise de sentimentos em redes sociais.\
‚úÖ Recomenda√ß√£o de produtos baseada no comportamento dos clientes.\
‚úÖ Dete√ß√£o de fraudes em transa√ß√µes financeiras.

**5Ô∏è‚É£ Open Source, Gratuito e com uma Comunidade Forte.**

Diferente de softwares pagos (como SAS ou SPSS), o R √© 100% gratuito e constantemente atualizado pela sua comunidade global. Al√©m disso:\
‚úÖ Possui milhares de pacotes prontos para diferentes √°reas de neg√≥cio.\
‚úÖ Tem uma enorme quantidade de recursos de aprendizagem gratuitos.

O R √© uma ferramenta poderosa, flex√≠vel e gratuita, permitindo que gestores tomem decis√µes mais informadas e automatizem tarefas complexas.

**üöÄ e para sua carreira: pode ser um √≥timo diferencial no curr√≠culo!**

¬†

## 2. Diferen√ßas entre R e R Studio?

**‚úÖ R (a linguagem).**\
‚Ä¢ √â a linguagem de programa√ß√£o usada para estat√≠stica, an√°lise de dados e machine learning.\
‚Ä¢ Funciona em linha de comando (terminal) sem interface gr√°fica.\
‚Ä¢ Pode ser usado sozinho, mas √© menos amig√°vel para iniciantes.

**‚úÖ RStudio (o ambiente de desenvolvimento - IDE).**\
‚Ä¢ √â uma ferramenta que facilita o uso do R com uma interface organizada.\
‚Ä¢ Oferece um editor de scripts, visualiza√ß√£o de gr√°ficos e gest√£o de pacotes num s√≥ lugar.\
‚Ä¢ N√£o substitui o R ‚Äì precisas do R instalado para que o RStudio funcione.

üëãüèª Como instalar o R e o RStudio.

Pode sempre utilizar o Posit Cloud na nuvem at√© que a sua conta atinja os limites de processamento ou o n√∫mero m√°ximo de projetos permitidos na vers√£o gratuita.

Se preferir, tamb√©m pode instalar estas aplica√ß√µes no seu computador e assim evitar qualquer limita√ß√£o da conta. Para isso, basta seguir estes passos, come√ßando pela instala√ß√£o do R e, em seguida, do RStudio.

Para instalar o R v√° ao CRAN - The Comprehensive R Archive Network em <https://cran.r-project.org/> e selecione a vers√£o correspondente ao seu sistema operacional.

![](images/clipboard-1725171893.png) ¬†\
¬†

Para instalar o R-Studio v√° ao site do fornecedor da ferramenta Posit Cloud em <https://posit.co/download/rstudio-desktop/> e baixe a vers√£o correspondente ao seu sistema operacional.

![](images/clipboard-692413399.png) ¬†\
A partir de agora, utilize sempre o R Studio.

¬†

## 3. Aplica√ß√£o Real

Toda vez que vamos utilizar o R √© necess√°rio preparar o ambiente √†s suas necessidades. Para isso deve informar quais pacotes (recursos) vamos necessitar. O comando abaixo, verifica se tais pacotes j√° est√°o instalados, caso negativo antes de carreg√°-los ele instala os pacotes e na sequ√™ncia carrega-os para a mem√≥ria do computador.

```{r}
# limpar a mem√≥ria do computador
rm(list = ls())

# instalador de pacotes que otimiza recursos
if(!require(pacman)) install.packages("pacman")
library(pacman)

pacman::p_load(tidyverse,
                 rmarkdown, 
                 knitr, 
                 kableExtra,
                 GGally, 
                 DataExplorer,
                 gplots,
                 SmartEDA
                 )

#mostra quais pacotes est√£o carregados
p_loaded()
```

\
Nesta demonstra√ß√£o dos recursos e potencialidades do R, vamos utilizar dois ficheiros que est√£o no CANVAS. Ent√£o devemos carregar os ficheiros para o nosso ambiente de trabalho.\

```{r}

## Carregar ficheiro tipo CSV
dados <- read.csv("video games sales.csv", sep = ";", dec = ".", stringsAsFactors = FALSE)
## Verificar a estrutura dos dados
ExpData(dados,type=1) 
ExpData(dados,type=2) 
str(dados) 

```

Uma vez que o conjunto de dados esteja adequado, podemos obter uma an√°lise univariada de cada uma das vari√°veis presentes no ficheiro. Este comando faz isso de forma r√°pida e para todas as vari√°veis contidas no ficheiro.

```{r}
# Guardar em estatisticas os principais par√°metros das vari√°veis
estatisticas <- ExpNumStat(dados, Outlier = TRUE, Nlim=1)

# Apresentar os par√°metros
estatisticas

# A tabela dos par√°metros ficou grande (observe que s√£o apresentadas 23 colunas üò≥)!
# Ent√£o podemos criar a tabela com pagina√ß√£o nativa
estatisticas %>%
  kbl(format = "html") %>%
  kable_paper(full_width = FALSE) %>%
  scroll_box(width = "100%", height = "500px")

# Ou podemos escolher (select) alguns dos porametros e n√£o todos como antes...
est_shor <- estatisticas %>%
  dplyr::select(Vname, mean, SD, min, max, median, nOutliers, NA_Value)

# Apresentar os par√°metros selecionados
est_shor

```

**As vezes, uma avalia√ß√£o visual vale mais que 1.000 n√∫meros!!! üòÇ**

```{r}
#An√°lise das vari√°veis categ√≥ricas
plot_bar(dados)

#An√°lise das vari√°veis num√©ricas
plot_histogram(dados)
plot_density(dados)

```

A an√°lise visual nos mostrou alguns pontos que merecem reflex√£o:

1.  A vari√°vel Publisher apresenta mais de 50 categorias e por isso n√£o foi gerado gr√°fico. Alguns destes publisher se calhar tem apenas 1 game... Faz sentido classficar os publishers com menos de n games como outros?

2.  A vari√°vel plataforma traz por vezes diversos consoles de uma mesma plataforma, por exemplo PS2, PS e PS3. Que tal criarmos uma vari√°vel contendo a plataforma em sua vers√£o mais consolidada?

ent√£o... vamos a isso!!!

1)  Contar o n√∫mero de jogos que cada publisher desenvolveu:

```{r}
# Agrupar a informa√ß√£o de n√∫mero de jogos por Publisher
publisher_count <- dados %>%
  group_by(Publisher) %>%
  summarise(n_games = n()) %>%
  arrange(desc(n_games))  # Ordenar do maior para o menor



```

Agrupar em uma nova vari√°vel e rodar novamente a an√°lise gr√°fica das vari√°veis categ√≥ricas:

```{r}
n_limite <- 60  # Define o m√≠nimo de jogos para n√£o ser classificado como "Outros"; neste caso formando 10 categorias

# Criar uma nova coluna com "Outros" para publishers com poucos jogos
dados <- dados %>%
  mutate(Publisher_Grouped = ifelse(Publisher %in% publisher_count$Publisher[publisher_count$n_games >= n_limite], 
                                    Publisher, 
                                    "Outros"))

# refazer a an√°lise visual das vari√°veis categ√≥ricas
plot_bar(dados)
```

2)  Agrupar as plataformas no "sistemas m√£e"

```{r}
dados <- dados %>%
  mutate(Platform_Grouped = case_when(
    Platform %in% c("PS", "PS2", "PS3", "PS4", "PS5", "PSP", "PSV") ~ "PlayStation",
    Platform %in% c("X360", "XB", "XOne", "XSX") ~ "Xbox",
    Platform %in% c("Wii", "WiiU") ~ "Nintendo Wii",
    Platform %in% c("DS", "3DS", "GB", "GBA") ~ "Nintendo Handheld",
    Platform %in% c("NES", "SNES", "N64", "GC", "Switch") ~ "Nintendo Console",
    Platform %in% c("GEN", "SAT", "DC", "SCD") ~ "Sega",
    TRUE ~ "Other"  # Para outras plataformas
  ))

# refazer a an√°lise visual das vari√°veis categ√≥ricas
plot_bar(dados)
```

Uma vez ajustadas as quest√µes observadas anteriormente na an√°lise univariada, podemos partir para a an√°lise bivariada

```{r}
# inicialmente vamos ver as vari√°veis categ√≥ricas por Plataforma
plot_bar(dados, by = "Platform_Grouped")

# depois para as vari√°veis num√©ricas

plot_boxplot(dados, by = "Platform_Grouped")
plot_boxplot(dados, by = "Genre")
plot_boxplot(dados, by = "Publisher_Grouped")

```

**Momento para reflex√£o: temos todas as respostas /informa√ß√µes que desejamos?**

Sempre podemos utilizar o GGPLOT2, uma robusta e potente biblioteca (linguagem) para gerar gr√°ficos!

![](images/clipboard-1528029317.png)\
\
Imagine que desejamos ver as vendas em uma determinada regi√£o por tipo de jogos lan√ßado ao longo dos anos...

```{r}

ggplot(dados, aes(x= Year, y= Japan, color = Platform_Grouped)) + 
  geom_point() +
    labs(
    title = "Vendas de Videojogos ao Longo dos Anos",
    x = "Ano",
    y = "Vendas no Jap√£o (em milh√µes ‚Ç¨)"
  ) +
  theme_minimal() 
    
```

se desejarmos ver as vendas mundiais por tipo de plataforma

```{r}
# Por plataforma agrupada
ggplot(dados , aes(x=Platform_Grouped, y= Global, fill = Platform_Grouped)) + 
  geom_col() +
  theme_grey()

# Por plataforma
ggplot(dados , aes(x=Platform, y= Global, fill = Platform_Grouped)) + 
  geom_col() +
  theme_classic()

```

\
Se desejarmos ver a rela√ß√£o das vendas com reviews, separados por tipo de plataforma.

```{r}

dadosf <- dados %>% filter(Global < 10) %>% filter(Platform_Grouped == "PlayStation" | Platform_Grouped == "Xbox" | Platform_Grouped == "Nintendo Console")

ggplot(dadosf, aes(x=Review, y=Global, color = Platform_Grouped)) +
  geom_point() +
      theme_minimal() +
  labs(
    title = "Rela√ß√£o entre Avalia√ß√£o e Vendas Globais",
    x = "Avalia√ß√£o (Review Score)",
    y = "Vendas Globais (em milh√µes)",
    color = "Plataforma"
  )

# agora com linha de tend√™ncia
ggplot(dadosf, aes(x=Review, y=Global, color = Platform_Grouped)) +
  geom_point() +
  geom_smooth(method = "loess", se = TRUE, color = "black", linewidth = .8) +  # Linha de tend√™ncia global
    theme_minimal() +
  labs(
    title = "Rela√ß√£o entre Avalia√ß√£o e Vendas Globais",
    x = "Avalia√ß√£o (Review Score)",
    y = "Vendas Globais (em milh√µes)",
    color = "Plataforma"
  )

# agora com linha de tend√™ncia por Plataforma
ggplot(dadosf, aes(x=Review, y=Global, color = Platform_Grouped)) +
  geom_point() +
  geom_smooth(method = "loess", se = FALSE, linewidth = .8, aes(group = Platform_Grouped)) +  # Linha de tend√™ncia global
    theme_minimal() +
  labs(
    title = "Rela√ß√£o entre Avalia√ß√£o e Vendas Globais",
    x = "Avalia√ß√£o (Review Score)",
    y = "Vendas Globais (em milh√µes)",
    color = "Plataforma"
  )
```

------------------------------------------------------------------------

Agora fa√ßa voc√™ mesmo!

a) importe seu ficheiro:

```{r}
# importe seu ficheiro com o read_csv ou read_xsl

```

b) Avalie a estrutura do ficheiro:

```{r}
#use as fun√ß√µes do str ou do ExpData


```

c) Crie uma tabela com par√°metros estatisticos:

```{r}
# abuse das fun√ß√µes do ExpNumStat

```

d) Fa√ßa uma an√°lise explorat√≥ria visual dos dados:
```{r}
# crie muitos gr√°ficos a partir de um √∫nico comando com o plot_bar para as vari√°veis categ√≥ricas e plot_histogram para as vari√°veis num√©ricas

```

e) arrisque um gr√°fico especial com o uso do ggplot2
```{r}
# abuse do ggplot2 para criar gr√°ficos personalizados

```


**H√° muito mais por explorar...**

## 4. Potencial Infinito

Por ser uma plataforma aberta o R tem um vasto portf√≥lio de bibliotecas e possibilidades! No mundo da Gest√£o do Neg√≥cios temos ferramentas como:

1.  Regress√£o Linear / log√≠stica para compreender a din√¢mica dos fen√≥menos.\
2.  An√°lise de Sentimentos (NLP) ‚Äì Para monitorar os reviews de seus clientes, concorrentes ou tend√™ncia de mercado.\
3.  Machine Learning ‚Äì para a prever vendas, manuten√ß√£o de equipamentos, etc.
4.  Shiny e relat√≥rios din√¢micos ‚Äì Para criar dashboards executivos e gerenciais.
5.  Automa√ß√£o de relat√≥rios com R Markdown (relat√≥rios autom√°ticos para empresas).

¬†

## 5. Como avan√ßar no aprendizado

üéØ H√° in√∫meras solu√ß√µes sem custos e dirigidas √†s suas necessidades. Aqui listo algumas, contudo sempre ter√° na web um universo sem fim de op√ß√µes.\
¬†

**ChatGPT:** para d√∫vidas r√°pidas ou mesmo c√≥digos complexos. fa√ßa um prompt completo.

**Coursera e DataCamp:** cursos introdut√≥rios gr√°tis.

**YouTube:** Canais como Curso de Estat√≠stica Aplicada no R (<https://www.youtube.com/playlist?list=PLOw62cBQ5j9VE9X4cCCfFMjW_hhEAJUhU>), StatQuest ([https://www.youtube.com/\@statquest/search?query=in%20r](https://www.youtube.com/@statquest/search?query=in%20r){.uri}), ou R Tutorial for Beginers (<https://www.youtube.com/watch?v=KlsYCECWEWE>).

**Manual do R:** <https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf>

**Sheet-Cheets:** <https://rstudio.github.io/cheatsheets/> <https://rstudio.github.io/cheatsheets/html/data-transformation.html#summarize-cases>

![](images/clipboard-1910118410.png)

![](images/clipboard-3765041054.png)**\
\
\
Livros:** ‚ÄúR for Data Science‚Äù (Hadley Wickham). <https://pt.r4ds.hadley.nz/>

![](images/clipboard-2497243927.png)

```{r}

```
